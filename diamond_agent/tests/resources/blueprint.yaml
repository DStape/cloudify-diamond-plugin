imports:
    - http://www.getcloudify.org/spec/cloudify/3.1/types.yaml

plugins:
    diamond:
        derived_from: cloudify.plugins.manager_plugin

node_types:
    monitor_type:
        derived_from: cloudify.types.base
        properties:
            config: {}

node_templates:
    node:
        type: monitor_type
        properties:
            config:
                interval: 10
                autostart: true

        interfaces:
            cloudify.interfaces.monitor_lifecycle:
                - start: diamond.diamond_agent.tasks.install
                - stop: diamond.diamond_agent.tasks.stop
